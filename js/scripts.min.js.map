{"version":3,"sources":["scripts.min.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","$","document","ready","workers","name","id","tasks","price","euroCourse","activeWorker","app","course","find","workersLists","searchWorker","tasksLists","workerInput","sumPln","sumEur","sortNameAsc","sortNameDesc","sortPricePlnAsc","sortPricePlnDesc","sortPriceEurAsc","sortPriceEurDesc","createWorkersLists","workersListsHTML","forEach","worker","html","generateTable","currentWorker","filter","workersTasksHTML","sumPrice","task","toFixed","text","generateWorkerIndex","findIndex","Generator","on","this","siblings","removeClass","addClass","data","selectedWorker","val","stopPropagation","closest","regex","RegExp","target","value","match","preventDefault","taskName","taskPrice","taskNameVal","taskPriceVal","taskNameError","taskPriceError","workerIndex","push","idGen","getId","parseInt","taskId","newArrayTasks","prototype","rand","Math","floor","random","Date","now","sort","ascending","columnClassName","tableId","tbody","getElementById","getElementsByTagName","rows","unsorted","row","nextRow","getElementsByClassName","innerHTML","nextValue","replace","isNaN","parseFloat","insertBefore"],"mappings":"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","file":"scripts.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\n$(document).ready(function () {\n    // Variables\n    var workers = [{\n        name: 'Adam Nowak',\n        id: 1,\n        tasks: [{\n            id: 1,\n            name: 'Zadanie 1',\n            price: 120\n        }, {\n            id: 2,\n            name: 'Zadanie 2',\n            price: 300\n        }, {\n            id: 3,\n            name: 'Zadanie 3',\n            price: 200\n        }]\n    }, {\n        name: 'MichaÅ‚ Potoczek',\n        id: 2,\n        tasks: [{\n            id: 1,\n            name: 'Zadanie 1',\n            price: 320\n        }, {\n            id: 2,\n            name: 'Zadanie 2',\n            price: 450\n        }, {\n            id: 3,\n            name: 'Zadanie 3',\n            price: 670\n        }]\n    }, {\n        name: 'Antoni Worek',\n        id: 3,\n        tasks: [{\n            id: 1,\n            name: 'Zadanie 1',\n            price: 875\n        }, {\n            id: 2,\n            name: 'Zadanie 2',\n            price: 435\n        }, {\n            id: 3,\n            name: 'Zadanie 3',\n            price: 1256\n        }]\n    }],\n        euroCourse = 4.8282,\n        activeWorker = 1;\n\n    var app = $('#app'),\n        course = app.find('.course'),\n        customSelect = app.find('.custom-select'),\n        workersLists = app.find('.custom-select ul'),\n        searchWorker = app.find('.search-worker'),\n        tasksLists = app.find('.tasks-lists'),\n        workerInput = app.find('#workers'),\n        sumPln = app.find('.sumPLN'),\n        sumEur = app.find('.sumEURO'),\n        sortNameAsc = app.find('.sort-name-asc'),\n        sortNameDesc = app.find('.sort-name-desc'),\n        sortPricePlnAsc = app.find('.sort-pricePln-asc'),\n        sortPricePlnDesc = app.find('.sort-pricePln-desc'),\n        sortPriceEurAsc = app.find('.sort-priceEur-asc'),\n        sortPriceEurDesc = app.find('.sort-priceEur-desc');\n\n    // Set euro course\n    course.text(euroCourse);\n\n    // Create workers lists\n    function createWorkersLists(workers) {\n        var workersListsHTML = '';\n        workers.forEach(function (worker) {\n            workersListsHTML += '\\n        <li class=\"' + (worker.id === activeWorker ? 'active' : '') + '\" data-id=' + worker.id + '>\\n            <span style=\"background-image: url(\\'./src/images/user.png\\')\"></span>\\n            <p>' + worker.name + '</p>\\n            <i class=\"fas fa-check\"></i>\\n        </li>\\n        ';\n        });\n        workersLists.html(workersListsHTML);\n    }\n    createWorkersLists(workers);\n\n    // Check active worker\n    workersLists.on('click', 'li', function () {\n        $(this).siblings().removeClass('active');\n        $(this).addClass('active');\n        activeWorker = $(this).data('id');\n        var selectedWorker = workers.find(function (worker) {\n            return worker.id === activeWorker;\n        });\n        workerInput.val(selectedWorker.name);\n        generateTable();\n    });\n\n    // Search worker\n    searchWorker.on('click', function (e) {\n        e.stopPropagation();\n        searchWorker.addClass('active');\n        $(this).closest(searchWorker).find('label').text('Szukaj');\n        $(document).on('click', function (e) {\n            e.stopPropagation();\n            searchWorker.removeClass(\"active\");\n            searchWorker.find('label').text('Pracownik');\n        });\n    });\n\n    // Filter workers\n    workerInput.on('change, keyup', function (e) {\n        var matchWorkers = workers.filter(function (worker) {\n            var regex = new RegExp(e.target.value, 'gi');\n            return worker.name.match(regex);\n        });\n        createWorkersLists(matchWorkers);\n    });\n\n    // Validation input\n    $(\".add-task\").on('submit', function (e) {\n        e.preventDefault();\n        var taskName = $(\"#task-name\");\n        var taskPrice = $(\"#task-price\");\n        var taskNameVal = taskName.val();\n        var taskPriceVal = taskPrice.val();\n        var taskNameError = taskName.closest('.form-group').find('.error');\n        var taskPriceError = taskPrice.closest('.form-group').find('.error');\n        if (taskNameVal.length === 0) {\n            taskNameError.addClass('active');\n            taskName.addClass('errorBorder');\n        } else if (taskNameVal.length <= 5) {\n            taskNameError.addClass('active');\n            taskName.addClass('errorBorder');\n        } else {\n            taskNameError.removeClass('active');\n            taskName.removeClass('errorBorder');\n        }\n        if (taskPriceVal.length === 0) {\n            taskPriceError.addClass('active');\n            taskPrice.addClass('errorBorder');\n        } else {\n            taskPriceError.removeClass('active');\n            taskPrice.removeClass('errorBorder');\n        }\n        if (taskNameVal.length >= 5 && taskPriceVal.length !== 0) {\n            taskName.val('');\n            taskPrice.val('');\n            var workerIndex = generateWorkerIndex();\n            workers[workerIndex].tasks.push({\n                id: idGen.getId(),\n                name: taskNameVal,\n                price: parseInt(taskPriceVal)\n            });\n            generateTable();\n        }\n    });\n\n    // Generate table\n    function generateTable() {\n        var currentWorker = workers.filter(function (worker) {\n            return activeWorker === worker.id;\n        });\n        var workersTasksHTML = '';\n        var sumPrice = 0;\n        currentWorker[0].tasks.forEach(function (task) {\n            workersTasksHTML += '\\n                <tr>\\n                    <td data-label=\"Nazwa zadania\" class=\"name\">' + task.name + '</td>\\n                    <td data-label=\"Kwota w PLN\" class=\"pricePLN\">' + task.price.toFixed() + ' PLN</td>\\n                    <td data-label=\"Kwota w EURO\" class=\"priceEURO\">' + (task.price / euroCourse).toFixed() + ' EUR</td>\\n                    <td data-label=\"Opcje\">\\n                        <span data-id=' + task.id + ' class=\"delete-task\">\\n                            <i class=\"fas fa-trash\"></i>Usu\\u0144\\n                        </span>\\n                    </td>\\n                </tr>\\n            ';\n            sumPrice += task.price;\n        });\n        sumPln.text(sumPrice.toFixed());\n        sumEur.text((sumPrice / euroCourse).toFixed());\n        if (workersTasksHTML === '') {\n            workersTasksHTML += '\\n                <tr>\\n                    <td colspan=\"4\" style=\"text-align: center\">Brak zada\\u0144 w tablicy</td>\\n                </tr>\\n            ';\n        }\n        tasksLists.html(workersTasksHTML);\n    }\n    generateTable();\n\n    // Delete task \n    tasksLists.on('click', '.delete-task', function () {\n        var taskId = $(this).data('id');\n        var workerIndex = generateWorkerIndex();\n        var newArrayTasks = workers[workerIndex].tasks.filter(function (task) {\n            return task.id !== taskId;\n        });\n        workers[workerIndex].tasks = newArrayTasks;\n        generateTable();\n    });\n\n    // Generate workerIndex\n    function generateWorkerIndex() {\n        var workerIndex = workers.findIndex(function (worker) {\n            return worker.id === activeWorker;\n        });\n        return workerIndex;\n    }\n\n    // Generate unique id\n    function Generator() {};\n    Generator.prototype.rand = Math.floor(Math.random() * 26) + Date.now();\n    Generator.prototype.getId = function () {\n        return this.rand++;\n    };\n    var idGen = new Generator();\n\n    // Sortable table\n    sortNameAsc.on('click', function () {\n        sort(true, 'name', 'table-task');\n    });\n    sortNameDesc.on('click', function () {\n        sort(false, 'name', 'table-task');\n    });\n    sortPricePlnAsc.on('click', function () {\n        sort(true, 'pricePLN', 'table-task');\n    });\n    sortPricePlnDesc.on('click', function () {\n        sort(false, 'pricePLN', 'table-task');\n    });\n    sortPriceEurAsc.on('click', function () {\n        sort(true, 'priceEURO', 'table-task');\n    });\n    sortPriceEurDesc.on('click', function () {\n        sort(false, 'priceEURO', 'table-task');\n    });\n\n    function sort(ascending, columnClassName, tableId) {\n        var tbody = document.getElementById(tableId).getElementsByTagName(\"tbody\")[0];\n        var rows = tbody.getElementsByTagName(\"tr\");\n        var unsorted = true;\n        while (unsorted) {\n            unsorted = false;\n            for (var r = 0; r < rows.length - 1; r++) {\n                var row = rows[r];\n                var nextRow = rows[r + 1];\n                var value = row.getElementsByClassName(columnClassName)[0].innerHTML;\n                var nextValue = nextRow.getElementsByClassName(columnClassName)[0].innerHTML;\n                value = value.replace(',', ''); // in case a comma is used in float number\n                nextValue = nextValue.replace(',', '');\n                if (!isNaN(value)) {\n                    value = parseFloat(value);\n                    nextValue = parseFloat(nextValue);\n                }\n                if (ascending ? value > nextValue : value < nextValue) {\n                    tbody.insertBefore(nextRow, row);\n                    unsorted = true;\n                }\n            }\n        }\n    };\n});\n\n},{}]},{},[1]);\n"]}